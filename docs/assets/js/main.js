"use strict";console.log(">> Ready :)");const inputSearch=document.querySelector(".js_input_search"),searchBtn=document.querySelector(".js_button"),searchResult=document.querySelector(".js_result_list"),favoritesList=document.querySelector(".js_fav_list"),altImage="https://via.placeholder.com/210x295/ffffff/666666/?text=cocktail",resetBtn=document.querySelector(".js_reset_button"),savedDrinks=JSON.parse(localStorage.getItem("favCocktails"));let resultsList=[],favList=[];function paintListResult(){let t="";for(const e of resultsList){const s=favList.findIndex(t=>t.idDrink===e.idDrink);console.log(s);let i="";i=-1===s?"":"fav-cocktail",t+=`<li class="${i} results__item js_results_item" id=${e.idDrink}>`,t+=`<h3 class="results__item--name">${e.strDrink}</h3>`,null!==e.strDrinkThumb?t+=`<img class="cocktail-img" src=${e.strDrinkThumb}>`:t+=`<img class="cocktail-img" src=${altImage}>`,t+="</li>"}searchResult.innerHTML=t,manageFavCocktails()}function paintFavCocktails(){let t="";for(const e of favList)t+=`<li class="fav-cocktail results__item js_results_item" id="${e.idDrink}">`,t+='<button class="xbutton js_fav_remove">x</button>',t+=`<h3 class="results__item--name">${e.strDrink}</h3>`,null!==e.strDrinkThumb?t+=`<img class="cocktail-img" src=${e.strDrinkThumb}>`:t+=`<img class="cocktail-img" src=${altImage}>`,t+="</li>";favoritesList.innerHTML=t,removeFavCocktails()}function getCocktailData(){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+inputSearch.value).then(t=>t.json()).then(t=>{resultsList=t.drinks,console.log(resultsList),paintListResult()})}function handleSearchClick(t){t.preventDefault(),getCocktailData()}function handleFavClick(t){toggleCocktail(t.currentTarget.id)}function toggleCocktail(t){const e=resultsList.find(e=>e.idDrink===t),s=favList.findIndex(e=>e.idDrink===t);-1===s?favList.push(e):favList.splice(s,1),paintFavCocktails(),paintListResult(),localStorage.setItem("favCocktails",JSON.stringify(favList))}function handleRemoveClick(t){toggleCocktail(t.currentTarget.parentElement.id)}function handleResetFav(t){t.preventDefault(),favList=[],paintFavCocktails(),localStorage.removeItem("favCocktails")}function localSaved(){null!==savedDrinks&&(favList=savedDrinks),paintFavCocktails()}function manageFavCocktails(){const t=document.querySelectorAll(".results .js_results_item");for(const e of t)e.addEventListener("click",handleFavClick)}function removeFavCocktails(){const t=document.querySelectorAll(".js_fav_remove");console.log(t);for(const e of t)e.addEventListener("click",handleRemoveClick)}localSaved(),searchBtn.addEventListener("click",handleSearchClick),resetBtn.addEventListener("click",handleResetFav);