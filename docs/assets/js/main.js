"use strict";const inputSearch=document.querySelector(".js_input_search"),searchBtn=document.querySelector(".js_button"),searchResult=document.querySelector(".js_result_list"),favoritesList=document.querySelector(".js_fav_list"),altImage="https://via.placeholder.com/210x295/ffffff/666666/?text=cocktail",resetBtn=document.querySelector(".js_reset_button"),savedDrinks=JSON.parse(localStorage.getItem("favCocktails"));let resultsList=[],favList=[];function getCocktailData(){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+inputSearch.value).then(t=>t.json()).then(t=>{resultsList=t.drinks,paintListResult()})}function paintListResult(){let t="";for(const e of resultsList){let s="";s=-1===favList.findIndex(t=>t.idDrink===e.idDrink)?"":"fav-cocktail",t+=`<li class="${s} results__item js_results_item" id=${e.idDrink}>`,t+=`<h3 class="results__item--name">${e.strDrink}</h3>`,null!==e.strDrinkThumb?t+=`<img class="results__item--img" src=${e.strDrinkThumb}>`:t+=`<img class="results__item--img" src=${altImage}>`,t+="</li>"}searchResult.innerHTML=t,addFavCocktails()}function paintFavCocktails(){let t="";for(const e of favList)t+=`<li class="fav-cocktail" id="${e.idDrink}">`,t+=`<h3>${e.strDrink}</h3>`,null!==e.strDrinkThumb?t+=`<img src=${e.strDrinkThumb}>`:t+=`<img src=${altImage}>`,t+='<button class="xbutton js_fav_remove">Don\'t like it anymore</button>',t+="</li>";favoritesList.innerHTML=t,removeFavCocktails()}function manageFavCocktail(t){const e=resultsList.find(e=>e.idDrink===t),s=favList.findIndex(e=>e.idDrink===t);-1===s?favList.push(e):favList.splice(s,1),paintFavCocktails(),paintListResult(),localStorage.setItem("favCocktails",JSON.stringify(favList))}function localSaved(){null!==savedDrinks&&(favList=savedDrinks),paintFavCocktails()}function handleSearchClick(t){t.preventDefault(),getCocktailData()}function handleFavClick(t){manageFavCocktail(t.currentTarget.id)}function handleRemoveClick(t){manageFavCocktail(t.currentTarget.parentElement.id)}function handleResetFav(t){t.preventDefault(),favList=[],paintFavCocktails(),localStorage.removeItem("favCocktails")}function addFavCocktails(){const t=document.querySelectorAll(".results .js_results_item");for(const e of t)e.addEventListener("click",handleFavClick)}function removeFavCocktails(){const t=document.querySelectorAll(".js_fav_remove");for(const e of t)e.addEventListener("click",handleRemoveClick)}localSaved(),searchBtn.addEventListener("click",handleSearchClick),resetBtn.addEventListener("click",handleResetFav);